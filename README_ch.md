# <img src="https://cdn-icons-png.flaticon.com/128/83/83522.png" alt="Full Projects Logo" width="42" height="30" /> æ°´ç”µè¡¨è¯»æ•° API <img src="https://cdn-icons-png.flaticon.com/128/83/83522.png" alt="Full Projects Logo" width="42" height="30" />

## ğŸŒ [![PortuguÃªs](https://img.shields.io/badge/PortuguÃªs-green)](https://github.com/SamuelRocha91/apiMeasureWaterAndGas/blob/main/README.md) [![EspaÃ±ol](https://img.shields.io/badge/EspaÃ±ol-yellow)](https://github.com/SamuelRocha91/apiMeasureWaterAndGas/blob/main/README_es.md) [![English](https://img.shields.io/badge/English-blue)](https://github.com/SamuelRocha91/apiMeasureWaterAndGas/blob/main/README_en.md) [![Ğ ÑƒÑÑĞºĞ¸Ğ¹](https://img.shields.io/badge/Ğ ÑƒÑÑĞºĞ¸Ğ¹-lightgrey)](https://github.com/SamuelRocha91/apiMeasureWaterAndGas/blob/main/README_ru.md) [![ä¸­æ–‡](https://img.shields.io/badge/ä¸­æ–‡-red)](https://github.com/SamuelRocha91/apiMeasureWaterAndGas/blob/main/README_ch.md) [![Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://img.shields.io/badge/Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©-orange)](https://github.com/SamuelRocha91/apiMeasureWaterAndGas/blob/main/README_ar.md)

è¿™æ˜¯ä¸€ä¸ªç”¨äºç®¡ç†å®¢æˆ·ä¸åŒæœåŠ¡è¯»æ•°çš„ APIã€‚è¯¥åº”ç”¨ç¨‹åºä½¿ç”¨ Node.jsã€TypeScriptã€Prismaã€Express.js ç­‰æŠ€æœ¯ï¼Œä»¥æä¾›å¯é ä¸”å¯æ‰©å±•çš„åç«¯ã€‚

![çŠ¶æ€ï¼šå¼€å‘ä¸­](https://img.shields.io/badge/status-%E5%BC%80%E5%8F%91%E4%B8%AD-yellow)

<details>
  <summary><h2>ğŸ“ å‰ç«¯</h2></summary>
  
  - ğŸ“ [Precision åº”ç”¨ç¨‹åº (React)](https://github.com/SamuelRocha91/precisionReactApplication/blob/main/README_ch.md) - ç”¨äºæ°´ç”µè¡¨è¯»æ•°çš„ç•Œé¢
  
  ![API è¿è¡Œæƒ…å†µ](./src/gifs/apiMeasure.gif)
  ![åˆ›å»ºå®¢æˆ·çš„ POST è¯·æ±‚](./src/images/postCustomer.png)

</details>

<details>
  <summary><h2>ğŸ› ï¸ ä½¿ç”¨çš„æŠ€æœ¯</h2></summary>

  - **Node.js**ï¼šç”¨äºæœåŠ¡å™¨ç«¯çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚
  - **TypeScript**ï¼šJavaScript çš„è¶…é›†ï¼Œä¸ºä»£ç æ·»åŠ é™æ€ç±»å‹ã€‚
  - **Express.js**ï¼šç”¨äº Node.js çš„ç®€çº¦ Web æ¡†æ¶ã€‚
  - **Prisma**ï¼šä¸€ä¸ª ORMï¼Œä½¿æ•°æ®åº“è®¿é—®æ›´ç®€å•ã€‚
  - **MySQL**ï¼šå¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨çš„æ•°æ®åº“ã€‚
  - **ESLint**ï¼šä¸€ä¸ªä»£ç æ£€æŸ¥å·¥å…·ï¼Œå¸®åŠ©ä¿æŒä»£ç çš„æ•´æ´å’Œæ ‡å‡†ã€‚
  - **Jest**ï¼šç”¨äºæµ‹è¯•çš„æ¡†æ¶ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€‚
  - **Mocha**ï¼šç”¨äºé¢å¤–çš„æµ‹è¯•ã€‚
  - **Google Generative AI**ï¼šé›†æˆç”¨äºåˆ†æè®¡é‡å™¨å›¾åƒå¹¶æå–è¯»æ•°çš„æ•°å€¼ã€‚
  - **Swagger**ï¼šé›†æˆç”¨äºç”Ÿæˆ API è·¯ç”±æ–‡æ¡£ã€‚

</details>

<details>
  <summary><h2>ğŸ“ é¡¹ç›®ç»“æ„</h2></summary>

  é¡¹ç›®éµå¾ªæ¨¡å—åŒ–ç»“æ„ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚ä¸»è¦æ–‡ä»¶å¤¹å’Œæ–‡ä»¶å¦‚ä¸‹ï¼š

  - `src/`ï¼šåŒ…å«åº”ç”¨ç¨‹åºçš„æºä»£ç ã€‚
    - `controllers/`ï¼šå¤„ç†è¯·æ±‚çš„æ§åˆ¶é€»è¾‘ã€‚
    - `db/`ï¼šç”Ÿæˆ Prisma å®ä¾‹ä»¥è¿æ¥æ•°æ®åº“ä¾›æ•´ä¸ªåº”ç”¨ä½¿ç”¨ã€‚
    - `exceptions/`ï¼šåˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸ï¼Œç”¨äºåœ¨åº”ç”¨è¿è¡Œæ—¶å¤„ç†é”™è¯¯ã€‚
    - `interfaces/`ï¼šåˆ›å»ºæ¥å£å’Œç±»å‹ï¼Œä»¥ç®¡ç†å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ã€‚
    - `middlewares/`ï¼šæ£€æŸ¥å’Œå¤„ç†çš„ä¸­é—´ä»¶å‡½æ•°ã€‚
    - `models/`ï¼šä¸æ•°æ®åº“è¿æ¥çš„é€»è¾‘ã€‚
    - `services/`ï¼šä¸ Prisma äº¤äº’å¹¶æ‰§è¡Œä¸šåŠ¡æ“ä½œçš„æœåŠ¡å±‚ã€‚
    - `routes/`ï¼šå®šä¹‰ API è·¯ç”±ã€‚
    - `utils/`ï¼šå®ç”¨åŠŸèƒ½ï¼Œå¦‚å›¾åƒå¤„ç†å’Œä¸ Google Generative AI çš„äº¤äº’ã€‚
    - `tests/`ï¼šç”¨äºæ£€æŸ¥åŠŸèƒ½çš„è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚

</details>

<details>
  <summary><h2>âš™ï¸ åŠŸèƒ½</h2></summary>

  - **è¯»æ•°åˆ—è¡¨**ï¼šå…è®¸æŸ¥çœ‹ç‰¹å®šå®¢æˆ·çš„æ‰€æœ‰è¯»æ•°ï¼Œå¹¶æŒ‰è¯»æ•°ç±»å‹è¿›è¡Œè¿‡æ»¤ã€‚
  - **å›¾åƒç®¡ç†**ï¼šè¯»æ•°å›¾åƒé€šè¿‡ä¸´æ—¶ URL è¿›è¡Œä¿å­˜å’Œæå–ï¼Œä½¿ç”¨ Base64 ç¼–ç ã€‚
  - **å‚æ•°æ£€æŸ¥**ï¼šä¸­é—´ä»¶ç”¨äºæ£€æŸ¥è¾“å…¥å‚æ•°ï¼Œç¡®ä¿è¯·æ±‚çš„å®Œæ•´æ€§ã€‚
  - **ä½¿ç”¨ Google Generative AI åˆ†æå›¾åƒ**ï¼šAPI åˆ†æå›¾åƒå¹¶æå–æ¶ˆè´¹å€¼ã€‚

</details>

<details>
  <summary><h2>ğŸš€ å¦‚ä½•è¿è¡Œé¡¹ç›®</h2></summary>

  ### è¦æ±‚

  - Node.js
  - Dockerï¼ˆå¯é€‰ï¼Œç”¨äºå¼€å‘ç¯å¢ƒï¼‰

  ### å®‰è£…æ­¥éª¤

  1. å…‹éš†å­˜å‚¨åº“ï¼š
      ```bash
      git clone https://github.com/SamuelRocha91/apiShopper.git
      cd apiMeasureWaterAndGas
      ```

  2. å®‰è£…ä¾èµ–é¡¹ï¼š
      ```bash
      npm install
      ```

  3. é…ç½®ç¯å¢ƒå˜é‡ï¼š
      - åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼ŒåŒ…å«å¿…è¦çš„é…ç½®ã€‚
      - ç¤ºä¾‹ï¼š
        ```env
        DATABASE_URL="file:./dev.db"
        GEMINI_API_KEY="æ‚¨çš„_google_api_å¯†é’¥"
        HOST="http://localhost:3000"
        ```

  4. æ‰§è¡Œæ•°æ®åº“è¿ç§»ï¼š
      ```bash
      npx prisma migrate dev
      ```

  5. å¯åŠ¨æœåŠ¡å™¨ï¼š
      ```bash
      npm run dev
      ```

  ### Docker

  æ‚¨å¯ä»¥ä½¿ç”¨ Docker å¯åŠ¨é¡¹ç›®ã€‚è¯·æ‰§è¡Œï¼š

  ```bash
  docker-compose up --build
  ```

</details>

<details>
  <summary><h2>ğŸ§ª æµ‹è¯•</h2></summary>

  æµ‹è¯•ä½¿ç”¨ Jest å’Œ Mocha æ‰§è¡Œã€‚è¦è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼Œè¯·æ‰§è¡Œï¼š

  ```bash
  npm run test
  ```

</details>

<details>
  <summary><h2>ğŸ¤ è´¡çŒ®</h2></summary>

  è¯·éšæ—¶æäº¤é—®é¢˜æˆ–å‘èµ·æ‹‰å–è¯·æ±‚ã€‚æ¬¢è¿ä»»ä½•è´¡çŒ®ï¼

</details>

<details>
  <summary><h2>ğŸ“œ å¯ç”¨è„šæœ¬</h2></summary>

  - `start`ï¼šå¯åŠ¨åº”ç”¨ç¨‹åºã€‚
  - `dev`ï¼šä»¥å¼€å‘æ¨¡å¼å¯åŠ¨åº”ç”¨ç¨‹åºã€‚
  - `build`ï¼šå°† TypeScript ä»£ç ç¼–è¯‘ä¸º JavaScriptã€‚
  - `lint`ï¼šè¿è¡Œ ESLint æ£€æŸ¥ä»£ç ã€‚
  - `lint:fix`ï¼šè¿è¡Œ ESLint å¹¶è‡ªåŠ¨ä¿®å¤é—®é¢˜ã€‚
  - `prisma:generate`ï¼šç”Ÿæˆ Prisma ç±»å‹ã€‚
  - `prisma:migrate`ï¼šæ‰§è¡Œæ•°æ®åº“è¿ç§»ã€‚
  - `prisma:seed`ï¼šç”¨åˆå§‹æ•°æ®å¡«å……æ•°æ®åº“ã€‚
  - `docker`ï¼šå®‰è£…ä¾èµ–é¡¹ï¼Œç”Ÿæˆ Prisma ç±»å‹ï¼Œæ‰§è¡Œè¿ç§»å¹¶å¯åŠ¨æœåŠ¡å™¨ã€‚
  - `test`ï¼šä½¿ç”¨ Mocha å’Œ Jest è¿è¡Œæ‰€æœ‰æµ‹è¯•ã€‚

</details>

<details>
  <summary><h2>ğŸ–¼ï¸ å›¾åƒè®¾ç½®</h2></summary>

  ç”¨äºä¿å­˜å’Œç”Ÿæˆå›¾åƒ URL çš„å®ç”¨åŠŸèƒ½ï¼š

  - **`saveBase64Image`**ï¼šå°† Base64 å›¾åƒä¿å­˜åˆ°æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ä¸­ã€‚
  - **`getImageUrl`**ï¼šç”Ÿæˆè®¿é—®å›¾åƒçš„ä¸´æ—¶ URLã€‚
  - **`extractMimeType`**ï¼šä» Base64 å›¾åƒä¸­æå– MIME ç±»å‹ã€‚
  - **`extractSize`**ï¼šè®¡ç®— Base64 å›¾åƒçš„å¤§å°ã€‚

</details>

<details>
  <summary><h2>ğŸ” ä½¿ç”¨ Google Generative AI åˆ†æå›¾åƒ</h2></summary>

  **`checkMeasureValue`** å‡½æ•°ä½¿ç”¨ Google Generative AI åˆ†æè¯»æ•°å›¾åƒå¹¶æå–æ¶ˆè´¹å€¼ã€‚

  ```javascript
  async function checkMeasureValue(mime: string, base64: string): Promise<number> {
    const result = await model.generateContent([
      {
        inlineData: {
          mimeType: mime,
          data: base64
        }
      },
    ]);
    return result.content?.[0]?.text ?? 0;
  }
  ```

</details>

<details>
  <summary><h2>ğŸ“¦ å…¶ä»– API</h2></summary>

  - ğŸ¦ [ç”¨æˆ·ç®¡ç† API](https://github.com/SamuelRocha91/paymentAPI/blob/main/README_ch.md)
  - ğŸ“¦ [ä¾›åº”å•† API](https://github.com/SamuelRocha91/sellerAPI/blob/main/README_ch.md)
  - ğŸ« [è´­ä¹° API](https://github.com/SamuelRocha91/consumerAPI/blob/main/README_ch.md)

</details>
